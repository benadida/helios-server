{% extends TEMPLATE_BASE %}
{% block title %}Statistics for Elections{% endblock %}

{% block content %}
  <div class="row">
    <div class="large-12 columns">
      <h1>
        Statistics&mdash;Elections <small>[<a href="{% url 'helios.stats_views.home' %}">Back</a>]</small>
      </h1>

      <table>
        <thead>
          <tr>
            <th>Election</th>
            <th width="10%">Voters</th>
            <th width="10%">Cast Votes</th>
          </tr>
        </thead>

        <tbody>
          {% for election in elections %}
            <tr>
              <td>
                <b><a href="{% url 'helios.views.one_election_view' election.uuid %}">{{election.name}}</a></b> by <a href="mailto:{{election.admin.info.email}}">{{election.admin.pretty_name}}</a>
              </td>
              <td>{{election.num_voters}}</td>
              <td>{{election.num_cast_votes}}</td>
            </tr>
          {% empty %}
            <tr>
              <td class="text-center" colspan="3">
                There are no elections yet.
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>

      <div class="pagination-centered">
        <ul class="pagination">
          {% if elections_page.has_previous %}
            <li class="arrow">
              <a href="?page={{elections_page.previous_page_number}}&limit={{limit}}">&laquo;</a>
            </li>
          {% else %}
            <li class="arrow unavailable">&laquo;</li>
          {% endif %}

          {% for page in elections_paginator.page_range %}
            <li {% ifequal page elections_page.number %}class="current"{% endifequal %}><a href="?page={{page}}&limit={{limit}}">{{page}}</a></li>
          {% endfor %}

          {% if elections_page.has_next %}
            <li class="arrow">
              <a href="?page={{elections_page.next_page_number}}&limit={{limit}}">&raquo;</a>
            </li>
          {% else %}
            <li class="arrow unavailable">&raquo;</li>
          {% endif %}
        </ul>
      </div>
    </div>
  </div>
{% endblock %}
